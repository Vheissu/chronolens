<section class="grid gap-4 md:grid-cols-3">
  <mdui-card class="p-4 md:col-span-2 space-y-3">
    <h2 class="text-xl font-semibold flex items-center gap-2">
      <mdui-icon name="tune"></mdui-icon>
      Generate
    </h2>

    <div class="grid gap-3 md:grid-cols-2">
      <div class="space-y-2">
        <div class="text-sm opacity-70">Upload photo</div>
        <input type="file" accept="image/*" change.trigger="onPickSource($event)"/>
        <template if.bind="sourcePreview">
          <img class="rounded-lg max-h-48" src.bind="sourcePreview" alt="Source preview"/>
        </template>
      </div>

      <div class="space-y-2">
        <div class="text-sm opacity-70">Era and intensity</div>
        <div class="flex gap-2 items-center">
          <mdui-select label="Era" value.two-way="era">
            <mdui-menu-item value="1920">1920</mdui-menu-item>
            <mdui-menu-item value="1970">1970</mdui-menu-item>
            <mdui-menu-item value="2090">2090</mdui-menu-item>
          </mdui-select>
          <mdui-select label="Intensity" value.two-way="variant">
            <mdui-menu-item value="mild">Mild</mdui-menu-item>
            <mdui-menu-item value="balanced">Balanced</mdui-menu-item>
            <mdui-menu-item value="cinematic">Cinematic</mdui-menu-item>
          </mdui-select>
        </div>
        <mdui-text-field label="Negatives (optional)" value.two-way="negatives" type="textarea"></mdui-text-field>
      </div>
    </div>

    <div class="flex items-center gap-2">
      <mdui-button variant="filled" icon="bolt" disabled.bind="busy || !sourceFile" click.trigger="generate()">Generate</mdui-button>
      <template if.bind="busy">
        <mdui-circular-progress indeterminate></mdui-circular-progress>
      </template>
      <template if.bind="error">
        <div class="text-sm text-red-600">${error}</div>
      </template>
    </div>
  </mdui-card>

  <mdui-card class="p-4 space-y-3">
    <h3 class="text-lg font-semibold flex items-center gap-2">
      <mdui-icon name="image"></mdui-icon>
      Result
    </h3>
    <template if.bind="resultImage">
      <img class="rounded-lg w-full" src.bind="resultImage" alt="Result"/>
      <div class="flex gap-2">
        <mdui-button variant="tonal" icon="download" click.trigger="downloadResult()">Download</mdui-button>
      </div>
    </template>
    <template if.bind="!resultImage">
      <div class="text-sm opacity-70">No result yet</div>
    </template>
  </mdui-card>
</section>
