@import "tailwindcss";

/* Theme tokens to align Tailwind + MDUI */
:root {
  /* Brand colors (indigo â†’ fuchsia) */
  --brand-1: 99 102 241;   /* indigo-500 */
  --brand-2: 217 70 239;   /* fuchsia-500 */

  /* MDUI primary/secondary tweaks (Material 3-ish) */
  --mdui-color-primary: rgb(var(--brand-1));
  --mdui-color-on-primary: #fff;
  --mdui-color-secondary: rgb(var(--brand-2));
  --mdui-color-on-secondary: #fff;

  /* Surfaces tuned slightly warmer for light mode */
  --mdui-color-surface: hsl(255deg 33% 99%);
  --mdui-color-surface-container: hsl(255deg 33% 98%);
  --mdui-color-surface-container-high: hsl(255deg 33% 96%);
}

/* Ensure base typography adapts with theme */
body {
  background-color: var(--mdui-color-surface);
  color: var(--mdui-color-on-surface);
}

/* Dark theme (support MDUI class or data attr) */
html[data-mdui-theme="dark"],
html.mdui-theme-dark {
  --mdui-color-surface: hsl(255deg 12% 10%);
  --mdui-color-surface-container: hsl(255deg 12% 12%);
  --mdui-color-surface-container-high: hsl(255deg 12% 14%);
}

/* Decorative background (soft gradient + grid) */
.app-decor {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(800px 400px at 20% -10%, rgb(var(--brand-1) / 18%), transparent 50%),
    radial-gradient(600px 300px at 90% 10%, rgb(var(--brand-2) / 18%), transparent 55%),
    linear-gradient(180deg, rgb(255 255 255 / 45%), rgb(255 255 255 / 0%));
  mask-image: radial-gradient(60% 40% at 50% 0%, black, transparent 100%);
}

html[data-mdui-theme="dark"] .app-decor,
html.mdui-theme-dark .app-decor {
  background:
    radial-gradient(800px 400px at 20% -10%, rgb(var(--brand-1) / 20%), transparent 50%),
    radial-gradient(600px 300px at 90% 10%, rgb(var(--brand-2) / 20%), transparent 55%),
    linear-gradient(180deg, rgb(0 0 0 / 35%), rgb(0 0 0 / 0%));
}

/* Subtle grid overlay */
.app-grid::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, rgb(127 127 127 / 10%) 1px, transparent 1px),
    linear-gradient(to bottom, rgb(127 127 127 / 10%) 1px, transparent 1px);
  background-size: 24px 24px;
  mask-image: radial-gradient(1200px 600px at 50% -10%, black, transparent 60%);
  pointer-events: none;
}

/* Glass card utility for key surfaces */
.glass {
  background-color: color-mix(in srgb, var(--mdui-color-surface-container) 92%, transparent);
  backdrop-filter: saturate(140%) blur(8px);
  border: 1px solid rgb(255 255 255 / 18%);
}

html[data-mdui-theme="dark"] .glass,
html.mdui-theme-dark .glass {
  border-color: rgb(255 255 255 / 8%);
}

/* Checkerboard background for image previews */
.checker {
  background-image:
    linear-gradient(45deg, rgb(0 0 0 / 6%) 25%, transparent 25%),
    linear-gradient(-45deg, rgb(0 0 0 / 6%) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, rgb(0 0 0 / 6%) 75%),
    linear-gradient(-45deg, transparent 75%, rgb(0 0 0 / 6%) 75%);
  background-size: 16px 16px;
  background-position: 0 0, 0 8px, 8px -8px, -8px 0;
}

/* Dropzone styling for file input */
.dropzone {
  @apply flex flex-col items-center justify-center gap-2 rounded-xl border border-dashed p-6 transition-colors;

  border-color: rgb(var(--brand-1) / 45%);
  background: linear-gradient(180deg, rgb(255 255 255 / 60%), transparent);
}

html[data-mdui-theme="dark"] .dropzone,
html.mdui-theme-dark .dropzone {
  background: linear-gradient(180deg, rgb(255 255 255 / 3%), transparent);
}

.dropzone:hover {
  @apply bg-[var(--mdui-color-surface-container-high)];
}

/* Smoothen MDUI transitions a bit */
:where(mdui-button, mdui-card, mdui-chip, mdui-text-field, mdui-select) {
  transition: filter 120ms ease, box-shadow 160ms ease, transform 120ms ease;
}

/* Tighten top app bar spacing on wide screens */
@media (width >= 1024px) {
  mdui-top-app-bar { padding-inline: 12px; }
}
